Index: app/src/main/java/com/example/e_kostan/Menu/Menu_Profile.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.e_kostan.Menu;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.example.e_kostan.Menu_Pemilik.Dashboard_Pemilik;\r\nimport com.example.e_kostan.R;\r\nimport com.example.e_kostan.Session.SharedPrefManager;\r\nimport com.example.e_kostan.server.InitRetrofit;\r\nimport com.squareup.picasso.Picasso;\r\n\r\npublic class Menu_Profile extends AppCompatActivity {\r\nTextView Email,Password,Nama,No_Hp,Alamat,Jenis_Kelamin,Jenis_Akun,Readd;\r\nImageView GambarProfile;\r\nButton Logout,EditProfile;\r\nSharedPrefManager sharedPrefManager;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_menu__profile);\r\n        sharedPrefManager=new SharedPrefManager(Menu_Profile.this);\r\n        Email=(TextView) findViewById(R.id.emailprofile);\r\n        Email.setText(sharedPrefManager.getSPEmail());\r\n//        Password=(TextView)findViewById(R.id.passwordprofile);\r\n        Password.setText(sharedPrefManager.getSPPassword());\r\n        Nama=(TextView) findViewById(R.id.namaprofile);\r\n        Nama.setText(sharedPrefManager.getSPNama());\r\n        No_Hp=(TextView) findViewById(R.id.no_hp_profile);\r\n        No_Hp.setText(sharedPrefManager.getSPTelepon());\r\n        Alamat=(TextView) findViewById(R.id.alamatprofile);\r\n        Alamat.setText(sharedPrefManager.getSPAlamat());\r\n        Jenis_Kelamin=(TextView) findViewById(R.id.jeniskelaminprofile);\r\n        Jenis_Kelamin.setText(sharedPrefManager.getSPJenis_Kelamin());\r\n        Jenis_Akun=(TextView)findViewById(R.id.jenisakunprofile);\r\n        Jenis_Akun.setText(sharedPrefManager.getSPRole());\r\n        GambarProfile=(ImageView) findViewById(R.id.gambarprofile);\r\n        final String urlgambar = InitRetrofit.BASE_URL+sharedPrefManager.getSpGambar();\r\n        Picasso.with(Menu_Profile.this).load(urlgambar).into(GambarProfile);\r\n        Logout=(Button) findViewById(R.id.logoutprofile);\r\n        EditProfile=(Button) findViewById(R.id.editprofile);\r\n\r\n        EditProfile.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent in=new Intent(Menu_Profile.this, com.example.e_kostan.Menu.EditProfile.class);\r\n                startActivity(in);\r\n                finish();\r\n            }\r\n        });\r\n\r\n        Logout.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Keluar();\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    private void Keluar() {\r\n        sharedPrefManager.saveSPBoolean(SharedPrefManager.SP_SUDAH_LOGIN,false);\r\n        Intent intent=new Intent(Menu_Profile.this,Menu_Login.class);\r\n        startActivity(intent);\r\n        finish();\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed(){\r\n        Back();\r\n }\r\n\r\n    private void Back() {\r\n//        Intent intent=new Intent(Menu_Profile.this,Menu_Utama.class);\r\n//        startActivity(intent);\r\n//        finish();\r\n        String Jenis_Akun = sharedPrefManager.getSPRole();\r\n        if (sharedPrefManager.getSPRole().equals(\"Pemilik\")) {\r\n//            startActivity(new Intent(Menu_Login.this, Dashboard_Pemilik.class)\r\n//                    .addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_NEW_TASK));\r\n//            finish();\r\n//            Toast.makeText(this, \"Penyewa\", Toast.LENGTH_SHORT).show();\r\n            Intent intent=new Intent(Menu_Profile.this,Dashboard_Pemilik.class);\r\n          startActivity(intent);\r\n            finish();\r\n        } else if (sharedPrefManager.getSPRole().equals(\"Penyewa\")){\r\n            Intent intent=new Intent(Menu_Profile.this,Menu_Utama.class);\r\n        startActivity(intent);\r\n        finish();\r\n//            Toast.makeText(this, \"Penyewa\", Toast.LENGTH_SHORT).show();\r\n        } else {\r\n            Toast.makeText(this, \"Terjadi Kesalahan\", Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/e_kostan/Menu/Menu_Profile.java	(revision 1cffcfcfb972fa0fdd57667bca0fe0668deff9e0)
+++ app/src/main/java/com/example/e_kostan/Menu/Menu_Profile.java	(date 1614185412970)
@@ -29,7 +29,7 @@
         Email=(TextView) findViewById(R.id.emailprofile);
         Email.setText(sharedPrefManager.getSPEmail());
 //        Password=(TextView)findViewById(R.id.passwordprofile);
-        Password.setText(sharedPrefManager.getSPPassword());
+//        Password.setText(sharedPrefManager.getSPPassword());
         Nama=(TextView) findViewById(R.id.namaprofile);
         Nama.setText(sharedPrefManager.getSPNama());
         No_Hp=(TextView) findViewById(R.id.no_hp_profile);
Index: app/src/main/java/com/example/e_kostan/adapter/adapter_kosan.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.e_kostan.adapter;\r\n\r\nimport android.Manifest;\r\nimport android.app.Activity;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.location.Location;\r\nimport android.net.Uri;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.example.e_kostan.Menu.Menu_Detail;\r\nimport com.example.e_kostan.Menu.Menu_Rating;\r\nimport com.example.e_kostan.R;\r\nimport com.example.e_kostan.model.Item_Kosan;\r\nimport com.example.e_kostan.server.InitRetrofit;\r\nimport com.google.android.gms.location.FusedLocationProviderClient;\r\nimport com.google.android.gms.location.LocationServices;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.squareup.picasso.Picasso;\r\n\r\nimport java.util.List;\r\nimport java.util.Locale;\r\n\r\npublic class adapter_kosan extends RecyclerView.Adapter<adapter_kosan.MyViewHolder> {\r\n    double Latitude;\r\n    double Longitude;\r\nContext context;\r\nList<Item_Kosan> Menu;\r\npublic adapter_kosan (Context context, List<Item_Kosan> Data_Menu){\r\n    this.context=context;\r\n    this.Menu=Data_Menu;\r\n\r\n}\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n    View view= LayoutInflater.from(context).inflate(R.layout.list_kosan,parent,false);\r\n      MyViewHolder holder=new MyViewHolder(view);\r\n        return holder;\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        holder.Nama_Kosan.setText(Menu.get(position).getNamaKostan());\r\n        holder.Durasi_Kosan.setText(Menu.get(position).getDurasi());\r\n        holder.Alamat_Kosan.setText(Menu.get(position).getAlamat());\r\n        holder.Fasilitas_Kosan.setText(Menu.get(position).getFasilitas());\r\n        holder.Harga_Kosan.setText(Menu.get(position).getHarga());\r\n        holder.No_Hp.setText(Menu.get(position).getNomorHp());\r\n        holder.Jarak.setText(Menu.get(position).getDistance());\r\n        holder.Rating.setVisibility(View.GONE);\r\n        String dString =Menu.get(position).getDistance();\r\n        if (dString.equals(\"null\")){\r\n            holder.Jarak.setVisibility(View.GONE);\r\n        }else {\r\n            Log.d(\"jarak\",dString);\r\n            String aString = dString.substring(5,3);\r\n            holder.Jarak.setText(aString+\" Km\");\r\n        }\r\n        try {\r\n//            String dString =Menu.get(position).getDistance();\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        final String urlgambar = InitRetrofit.BASE_URL+ Menu.get(position).getGambar();\r\n        Picasso.with(context).load(urlgambar).into(holder.Gambar_Kosan);\r\n\r\n        FusedLocationProviderClient mFusedLocation = LocationServices.getFusedLocationProviderClient(context);\r\n        if (ActivityCompat.checkSelfPermission(context, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED && ActivityCompat.checkSelfPermission(context, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            return;\r\n        }\r\n        mFusedLocation.getLastLocation().addOnSuccessListener((Activity) context, new OnSuccessListener<Location>() {\r\n            @Override\r\n            public void onSuccess(Location location) {\r\n                if (location != null) {\r\n                    Log.d(\"My Current location\", \"Lat : \" + location.getLatitude() + \" Long : \" + location.getLongitude());\r\n                    Latitude=location.getLatitude();\r\n                    Longitude=location.getLongitude();\r\n                    Log.d(\"latlong\", String.valueOf(Latitude+Longitude));\r\n                    double Lat=Double.parseDouble(Menu.get(position).getLatitutude());\r\n                    double Long=Double.parseDouble(Menu.get(position).getLongitude());\r\n                    final int R = 6371; // Radious of the earth\r\n//                    double lat1, double lon1, double lat2, double lon2;\r\n                    Double latDistance = toRad(Latitude-Lat);\r\n                    Double lonDistance = toRad(Longitude-Long);\r\n                    Double a = Math.sin(latDistance / 2) * Math.sin(latDistance / 2) +\r\n                            Math.cos(toRad(Lat)) * Math.cos(toRad(Latitude)) *\r\n                                    Math.sin(lonDistance / 2) * Math.sin(lonDistance / 2);\r\n                    Double c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\r\n                    Double distance = R * c;\r\n                    System.out.println(\"Jarak Antara latitude dan Logitude :\" + distance);\r\n                    int A, B;\r\n                    String dString = Double.toString(distance);\r\n                    String aString = dString.substring(0,3);\r\n//                    holder.Jarak.setText(aString+\" Km\");\r\n                }\r\n            }\r\n        });\r\n\r\n        holder.Detail.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(context, Menu_Detail.class);\r\n                intent.putExtra(\"ID\", Menu.get(position).getId());\r\n                intent.putExtra(\"NamaKosan\", Menu.get(position).getNamaKostan());\r\n                intent.putExtra(\"DurasiKosan\", Menu.get(position).getDurasi());\r\n                intent.putExtra(\"Alamat\", Menu.get(position).getAlamat());\r\n                intent.putExtra(\"Fasilitas\", Menu.get(position).getFasilitas());\r\n                intent.putExtra(\"HargaKosan\", Menu.get(position).getHarga());\r\n                intent.putExtra(\"No_Hp\", Menu.get(position).getNomorHp());\r\n                intent.putExtra(\"Gambar\", Menu.get(position).getGambar());\r\n                intent.putExtra(\"Latitude\", Menu.get(position).getLatitutude());\r\n                intent.putExtra(\"Longitude\", Menu.get(position).getLongitude());\r\n                context.startActivity(intent);\r\n            }\r\n        });\r\n        holder.LihatLokasi.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String latitude=Menu.get(position).getLatitutude();\r\n                String longitude=Menu.get(position).getLongitude();\r\n//                String uri = String.format(Locale.ENGLISH, \"geo\", latitude, longitude);\r\n//                Intent intent = new Intent(Intent.ACTION_VIEW, Uri.parse(uri));\r\n//                context.startActivity(intent);\r\n//                Intent intent = new Intent(context, Menu_Detail.class);\r\n//                context.startActivity(intent);\r\n                String uri = \"http://maps.google.com/maps?saddr=\" +latitude + \",\" + longitude + \"&daddr=\" + latitude + \",\" +longitude;\r\n                Intent intent = new Intent(Intent.ACTION_VIEW, Uri.parse(uri));\r\n                context.startActivity(intent);\r\n            }\r\n        });\r\n        holder.LihatRating.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(context, Menu_Rating.class);\r\n                intent.putExtra(\"ID\", Menu.get(position).getId());\r\n                context.startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n\r\n    private static Double toRad(Double value) {\r\n        return value * Math.PI / 180;\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return Menu.size();\r\n    }\r\n\r\n    public class MyViewHolder extends RecyclerView.ViewHolder {\r\n    ImageView Gambar_Kosan;\r\n    TextView Nama_Kosan, Alamat_Kosan, Harga_Kosan, Fasilitas_Kosan,Durasi_Kosan,No_Hp,Jarak,Rating;\r\n    Button LihatLokasi,Detail,LihatRating;\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            Gambar_Kosan=(ImageView) itemView.findViewById(R.id.gambarkosan);\r\n            Nama_Kosan=(TextView) itemView.findViewById(R.id.namakosan);\r\n            Alamat_Kosan=(TextView) itemView.findViewById(R.id.alamatkosan);\r\n            Harga_Kosan=(TextView)itemView.findViewById(R.id.hargakosan);\r\n            Fasilitas_Kosan=(TextView) itemView.findViewById(R.id.fasilitaskosan);\r\n            Durasi_Kosan=(TextView)itemView.findViewById(R.id.durasikosan);\r\n            No_Hp=(TextView)itemView.findViewById(R.id.no_hp_kosan);\r\n            Jarak=(TextView)itemView.findViewById(R.id.jarak);\r\n            Rating=(TextView)itemView.findViewById(R.id.rating);\r\n            LihatLokasi=(Button)itemView.findViewById(R.id.lihatlokasi);\r\n            Detail=(Button)itemView.findViewById(R.id.detail);\r\n            LihatRating=(Button)itemView.findViewById(R.id.lihatrating);\r\n\r\n        }\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/e_kostan/adapter/adapter_kosan.java	(revision 1cffcfcfb972fa0fdd57667bca0fe0668deff9e0)
+++ app/src/main/java/com/example/e_kostan/adapter/adapter_kosan.java	(date 1614185360883)
@@ -60,19 +60,22 @@
         holder.Fasilitas_Kosan.setText(Menu.get(position).getFasilitas());
         holder.Harga_Kosan.setText(Menu.get(position).getHarga());
         holder.No_Hp.setText(Menu.get(position).getNomorHp());
-        holder.Jarak.setText(Menu.get(position).getDistance());
+
         holder.Rating.setVisibility(View.GONE);
         String dString =Menu.get(position).getDistance();
-        if (dString.equals("null")){
-            holder.Jarak.setVisibility(View.GONE);
-        }else {
+//        double d=Double.parseDouble(Menu.get(position).getDistance());
+//        holder.Jarak.setText((int) d);
+
+//        if (d == Double.parseDouble(null)){
+//            holder.Jarak.setVisibility(View.GONE);
+//        }else {
+
+//        }
+        try {
+//            String dString =Menu.get(position).getDistance();
             Log.d("jarak",dString);
             String aString = dString.substring(5,3);
             holder.Jarak.setText(aString+" Km");
-        }
-        try {
-//            String dString =Menu.get(position).getDistance();
-
         } catch (Exception e) {
             e.printStackTrace();
         }
